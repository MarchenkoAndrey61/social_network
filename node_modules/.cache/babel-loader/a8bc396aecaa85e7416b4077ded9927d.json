{"ast":null,"code":"var _jsxFileName = \"/Users/norikon/ReactSite/v3/react_social_web/src/components/MainPage/MainPage.js\";\nimport React from 'react';\nimport classes from './MainPage.module.css';\nimport { Link } from 'react-router-dom';\nimport { Button, Card, CardActionArea, CardContent, Typography, CardActions } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom';\n\nclass MainPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: '',\n      description: ''\n    };\n\n    this.onBtnClick = () => {\n      this.props.addPost(this.state);\n      this.setState({\n        title: '',\n        description: ''\n      });\n      this.props.watchPost();\n    };\n\n    this.changeNewPost = e => {\n      const id = e.currentTarget.id;\n      this.setState({\n        [id]: e.currentTarget.value\n      });\n    };\n  }\n\n  render() {\n    if (!localStorage.getItem('Uid')) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(Redirect, {\n        to: '/login',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }));\n    }\n\n    const comments = this.props.data.comment;\n    let allPosts;\n\n    if (this.props.data.post[0]) {\n      allPosts = this.props.data.post.sort(function (a, b) {\n        if (a.created_at > b.created_at) {\n          return -1;\n        }\n\n        if (a.created_at < b.created_at) {\n          return 1;\n        }\n\n        return 0;\n      });\n    }\n\n    if (this.props.data.post.length) {\n      allPosts = this.props.data.post.map(function (item) {\n        let comCount = [];\n\n        if (comments[0]) {\n          comments.forEach(i => {\n            if (i.commentable_id == item.id) {\n              comCount.push(i);\n            }\n          });\n        }\n\n        return React.createElement(\"div\", {\n          key: item.id,\n          className: classmypost.main,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: classmypost.topContent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: classmypost.title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"https://s.yimg.com/ny/api/res/1.2/7bbMUDnuJ0DeybIOk_CVzQ--~A/YXBwaWQ9aGlnaGxhbmRlcjtzbT0xO3c9ODAw/http://media.zenfs.com/en/homerun/feed_manager_auto_publish_494/68ead40c4b63a59b3c33c2e01a647f19\",\n          alt: \"avatar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: classmypost.user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, \"username\")), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"add:\")))), React.createElement(\"div\", {\n          className: classmypost.postContent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \" \", item.title, \" \"), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, item.description))), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \"Comments:\")), React.createElement(NavLink, {\n          to: `/posts/${item.id}`,\n          className: classmypost.NavLink,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \"Check Post\"));\n      });\n    } else if (this.props.data.post.loading) {\n      allPosts = React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Load...\");\n    } else {\n      allPosts = React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"No posts :(\");\n    }\n\n    return React.createElement(\"div\", {\n      className: classes.main,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.position_posts,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, allPosts, React.createElement(\"div\", {\n      className: classes.post_count,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"post count: \", this.props.data.post.length))), React.createElement(\"form\", {\n      className: classes.form_post,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Title:\"), React.createElement(\"input\", {\n      value: this.state.title,\n      onChange: this.changeNewPost,\n      className: classes.title_input,\n      id: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      value: this.state.description,\n      onChange: this.changeNewPost,\n      id: \"description\",\n      className: classes.description_input,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: this.onBtnClick,\n      variant: \"contained\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Add post\")));\n  }\n\n}\n\nexport default MainPage;","map":{"version":3,"sources":["/Users/norikon/ReactSite/v3/react_social_web/src/components/MainPage/MainPage.js"],"names":["React","classes","Link","Button","Card","CardActionArea","CardContent","Typography","CardActions","Redirect","MainPage","Component","state","title","description","onBtnClick","props","addPost","setState","watchPost","changeNewPost","e","id","currentTarget","value","render","localStorage","getItem","comments","data","comment","allPosts","post","sort","a","b","created_at","length","map","item","comCount","forEach","i","commentable_id","push","classmypost","main","topContent","user","postContent","NavLink","loading","position_posts","post_count","form_post","title_input","description_input"],"mappings":"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","sourcesContent":["import React from 'react';\nimport classes from './MainPage.module.css'\nimport {Link} from 'react-router-dom'\nimport { Button, Card, CardActionArea, CardContent, Typography, CardActions } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom'\n\nclass MainPage extends React.Component {\n  state = {\n    title: '',\n    description: '',\n  }\n\n  onBtnClick = () => {\n    this.props.addPost(this.state)\n    this.setState({\n      title: '',\n      description: '',\n    })\n    this.props.watchPost()\n  }\n\n  changeNewPost = (e) => {\n    const { id } = e.currentTarget\n    this.setState({ [id]: e.currentTarget.value })\n  }\n\n  render () {\n    if (!localStorage.getItem('Uid')) {\n      return <div><Redirect to={'/login'} /></div> \n    } \n    const comments = this.props.data.comment\n\n    let allPosts\n    if (this.props.data.post[0]) {\n      allPosts = this.props.data.post.sort(function (a, b) {\n        if (a.created_at > b.created_at) {\n          return -1;\n        }\n        if (a.created_at < b.created_at) {\n          return 1;\n        }\n        return 0;\n      });\n    }\n\n    if (this.props.data.post.length) {\n      allPosts = this.props.data.post.map(function (item) {\n        let comCount = []\n        if(comments[0]) {\n          comments.forEach(i => {\n            if (i.commentable_id == item.id) {\n              comCount.push(i)\n            }\n          });\n        }\n        return (\n          <div key={item.id} className={classmypost.Â main}>\n          <div className = {classmypost.topContent}>\n            <div className = {classmypost.title}> \n              <div>\n                <img src = \"https://s.yimg.com/ny/api/res/1.2/7bbMUDnuJ0DeybIOk_CVzQ--~A/YXBwaWQ9aGlnaGxhbmRlcjtzbT0xO3c9ODAw/http://media.zenfs.com/en/homerun/feed_manager_auto_publish_494/68ead40c4b63a59b3c33c2e01a647f19\" \n                    alt = \"avatar\"\n                />\n              </div>\n              <div className = {classmypost.user}>\n                <div>\n                  <h5>username</h5>\n                </div>\n                <div>\n                  <h6>add:</h6>\n                </div>\n              </div>\n            </div>\n            <div className = {classmypost.postContent}>\n              <h1 > {item.title} </h1>\n              <h4 >{item.description}</h4>\n            </div>\n          </div>\n            <div>\n              <label>\n                  Comments:\n              </label>\n            </div>\n            <NavLink to={`/posts/${item.id}`} className = {classmypost.NavLink}>Check Post</NavLink>\n        </div>\n        )\n      })\n    } else if (this.props.data.post.loading) {\n      allPosts = <p>Load...</p>\n    } else {\n      allPosts = <p>No posts :(</p>\n    }\n    return (\n      <div className={classes.main}>        \n        <div className={classes.position_posts}>\n          {allPosts}\n          <div className={classes.post_count}>\n            <p>post count: {this.props.data.post.length}</p>\n          </div> \n        </div>\n        <form className={classes.form_post}>        \n            <label>Title:</label>\n            <input value={this.state.title} \n                   onChange={this.changeNewPost} \n                   className={classes.title_input} \n                   id=\"title\">\n            </input><br/>\n\n            <textarea value={this.state.description} \n                      onChange={this.changeNewPost} \n                      id='description' \n                      className={classes.description_input} /><br/>\n\n            <Button onClick={this.onBtnClick} variant=\"contained\" color=\"primary\">\n              Add post\n            </Button>\n          </form>\n      </div>\n    );\n  }\n}\n\nexport default MainPage;"]},"metadata":{},"sourceType":"module"}