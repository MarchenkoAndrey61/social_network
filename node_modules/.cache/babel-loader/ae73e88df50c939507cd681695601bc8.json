{"ast":null,"code":"var _jsxFileName = \"/Users/norikon/ReactSite/v3/react_social_web/src/components/MainPage/MainPage.js\";\nimport React from 'react';\nimport classmypost from './MainPage.module.css';\nimport { Button } from 'react-bootstrap';\nimport { Redirect } from 'react-router-dom';\nimport { NavLink } from \"react-router-dom\";\nimport { Form } from 'react-bootstrap';\n\nclass MainPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: '',\n      description: ''\n    };\n\n    this.onBtnClick = () => {\n      this.props.addPost(this.state);\n      this.setState({\n        title: '',\n        description: ''\n      });\n      this.props.watchPost();\n    };\n\n    this.changeNewPost = e => {\n      const id = e.currentTarget.id;\n      this.setState({\n        [id]: e.currentTarget.value\n      });\n    };\n  }\n\n  render() {\n    if (!localStorage.getItem('Uid')) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(Redirect, {\n        to: '/login',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }));\n    }\n\n    const comments = this.props.data.comment;\n    let allPosts;\n\n    if (this.props.data.post[0]) {\n      allPosts = this.props.data.post.sort(function (a, b) {\n        if (a.created_at > b.created_at) {\n          return -1;\n        }\n\n        if (a.created_at < b.created_at) {\n          return 1;\n        }\n\n        return 0;\n      });\n    }\n\n    if (this.props.data.post.length) {\n      allPosts = this.props.data.post.map(function (item) {\n        let comCount = [];\n\n        if (comments[0]) {\n          comments.forEach(i => {\n            if (i.commentable_id == item.id) {\n              comCount.push(i);\n            }\n          });\n        }\n\n        return React.createElement(\"div\", {\n          key: item.id,\n          className: classmypost.main,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: classmypost.topContent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: classmypost.title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"https://s.yimg.com/ny/api/res/1.2/7bbMUDnuJ0DeybIOk_CVzQ--~A/YXBwaWQ9aGlnaGxhbmRlcjtzbT0xO3c9ODAw/http://media.zenfs.com/en/homerun/feed_manager_auto_publish_494/68ead40c4b63a59b3c33c2e01a647f19\",\n          alt: \"avatar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: classmypost.user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, \"username\")), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, \"add:\")))), React.createElement(\"div\", {\n          className: classmypost.postContent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, \" \", item.title, \" \"), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, item.description))), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, \"Comments:\")), React.createElement(NavLink, {\n          to: `/post/${item.id}`,\n          className: classmypost.NavLink,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \"Check Post\"));\n      });\n    } else if (this.props.data.post.loading) {\n      allPosts = React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Load...\");\n    } else {\n      allPosts = React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"No posts :(\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Form, {\n      className: classmypost.forma,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"exampleForm.ControlInput1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \" Title \"), React.createElement(Form.Control, {\n      name: \"title\",\n      id: \"title\",\n      onChange: this.changeNewPost,\n      placeholder: \"Title\",\n      value: this.state.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }))), React.createElement(Form.Group, {\n      controlId: \"exampleForm.ControlTextarea1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      rows: \"10\",\n      cols: \"20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Textarea\"), React.createElement(Form.Control, {\n      name: \"description\",\n      id: \"description\",\n      onChange: this.changeNewPost,\n      placeholder: \"Description\",\n      as: \"textarea\",\n      rows: \"3\",\n      value: this.state.description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: this.onBtnClick,\n      variant: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Add post\")), React.createElement(\"div\", {\n      clas: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"post count: \", this.props.data.post.length)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, allPosts));\n  }\n\n}\n\nexport default MainPage;","map":{"version":3,"sources":["/Users/norikon/ReactSite/v3/react_social_web/src/components/MainPage/MainPage.js"],"names":["React","classmypost","Button","Redirect","NavLink","Form","MainPage","Component","state","title","description","onBtnClick","props","addPost","setState","watchPost","changeNewPost","e","id","currentTarget","value","render","localStorage","getItem","comments","data","comment","allPosts","post","sort","a","b","created_at","length","map","item","comCount","forEach","i","commentable_id","push","main","topContent","user","postContent","loading","forma"],"mappings":"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","sourcesContent":["import React from 'react';\nimport classmypost from './MainPage.module.css'\nimport {Button} from 'react-bootstrap';\nimport { Redirect } from 'react-router-dom'\nimport {NavLink} from \"react-router-dom\"\nimport {Form} from 'react-bootstrap';\n\nclass MainPage extends React.Component {\n  state = {\n    title: '',\n    description: '',\n  }\n\n  onBtnClick = () => {\n    this.props.addPost(this.state)\n    this.setState({\n      title: '',\n      description: '',\n    })\n    this.props.watchPost()\n  }\n\n  changeNewPost = (e) => {\n    const { id } = e.currentTarget\n    this.setState({ [id]: e.currentTarget.value })\n  }\n\n  render () {\n    if (!localStorage.getItem('Uid')) {\n      return <div><Redirect to={'/login'} /></div> \n    } \n    const comments = this.props.data.comment\n\n    let allPosts\n    if (this.props.data.post[0]) {\n      allPosts = this.props.data.post.sort(function (a, b) {\n        if (a.created_at > b.created_at) {\n          return -1;\n        }\n        if (a.created_at < b.created_at) {\n          return 1;\n        }\n        return 0;\n      });\n    }\n\n    if (this.props.data.post.length) {\n      allPosts = this.props.data.post.map(function (item) {\n        let comCount = []\n        if(comments[0]) {\n          comments.forEach(i => {\n            if (i.commentable_id == item.id) {\n              comCount.push(i)\n            }\n          });\n        }\n        return (\n          <div key={item.id} className={classmypost.Â main}>\n          <div className = {classmypost.topContent}>\n            <div className = {classmypost.title}> \n              <div>\n                <img src = \"https://s.yimg.com/ny/api/res/1.2/7bbMUDnuJ0DeybIOk_CVzQ--~A/YXBwaWQ9aGlnaGxhbmRlcjtzbT0xO3c9ODAw/http://media.zenfs.com/en/homerun/feed_manager_auto_publish_494/68ead40c4b63a59b3c33c2e01a647f19\" \n                    alt = \"avatar\"\n                />\n              </div>\n              <div className = {classmypost.user}>\n                <div>\n                  <h5>username</h5>\n                </div>\n                <div>\n                  <h6>add:</h6>\n                </div>\n              </div>\n            </div>\n            <div className = {classmypost.postContent}>\n              <h1 > {item.title} </h1>\n              <h4 >{item.description}</h4>\n            </div>\n          </div>\n            <div>\n              <label>\n                  Comments:\n              </label>\n            </div>\n            <NavLink to={`/post/${item.id}`} className = {classmypost.NavLink}>Check Post</NavLink>\n        </div>\n        )\n      })\n    } else if (this.props.data.post.loading) {\n      allPosts = <p>Load...</p>\n    } else {\n      allPosts = <p>No posts :(</p>\n    }\n    return (\n      <div >  \n        <Form className = {classmypost.forma}>\n            <Form.Group controlId=\"exampleForm.ControlInput1\">\n              <div>\n                <Form.Label> Title </Form.Label> \n                <Form.Control name='title' id='title' onChange={this.changeNewPost}  placeholder=\"Title\" value ={this.state.title} /> \n              </div>\n            </Form.Group>\n            <Form.Group controlId=\"exampleForm.ControlTextarea1\">\n              <Form.Label rows=\"10\" cols=\"20\" >Textarea</Form.Label>\n              <Form.Control name='description' id ='description' onChange={this.changeNewPost} placeholder=\"Description\"  as=\"textarea\" rows=\"3\" value ={this.state.description} />\n            </Form.Group>\n            <Button onClick={this.onBtnClick} variant=\"dark\">Add post</Button>\n          </Form>  \n          <div clas>\n            <p>post count: {this.props.data.post.length}</p>\n          </div>     \n        <div >\n          {allPosts}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MainPage;"]},"metadata":{},"sourceType":"module"}