{"ast":null,"code":"var _jsxFileName = \"/Users/norikon/ReactSite/v3/react_social_web/src/components/Post/Post.js\";\nimport React from 'react';\nimport classes from './Post.module.css';\nimport { Typography, Card, CardContent, Button } from '@material-ui/core';\nimport Comment from './Comment/Comment';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router-dom';\n\nclass Post extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: null,\n      title: '',\n      description: '',\n      visible: false,\n      visible_form: false,\n      redact: false\n    };\n  }\n\n  render() {\n    if (!localStorage.getItem('Uid')) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, React.createElement(Redirect, {\n        to: '/login',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }));\n    }\n\n    let showPost;\n    const post = this.props.data.post;\n    const number_post = this.props.match.params.post;\n\n    if (post[0]) {\n      post.forEach(item => {\n        if (item.id == Number(number_post)) {\n          showPost = item;\n        }\n      });\n    }\n\n    const onRedactClick = () => {\n      this.setState({\n        id: showPost.id,\n        title: showPost.title,\n        description: showPost.description,\n        redact: true\n      });\n    };\n\n    const onCancel = () => {\n      this.setState({\n        redact: false\n      });\n    };\n\n    const onEditChange = e => {\n      const id = e.currentTarget.id;\n      this.setState({\n        [id]: e.currentTarget.value\n      });\n    };\n\n    const onEdit = () => {\n      this.props.fetchEdit({\n        id: this.state.id,\n        title: this.state.title,\n        description: this.state.description\n      });\n      this.setState({\n        redact: false\n      });\n    };\n\n    if (showPost) {\n      return React.createElement(Card, {\n        className: classes.card,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.info,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: classes.date,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Created at:\", ' ' + showPost.created_at), React.createElement(\"p\", {\n        className: classes.user_id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"User ID:\", ' ' + showPost.user_id)), React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.state.redact ? React.createElement(\"div\", {\n        className: classes.post,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"title\",\n        className: classes.title_input,\n        onChange: onEditChange,\n        defaultValue: this.state.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"textarea\", {\n        className: classes.description_input,\n        id: \"description\",\n        onChange: onEditChange,\n        defaultValue: this.state.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(Button, {\n        className: classes.button,\n        onClick: onEdit,\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Edit\"), ' ', React.createElement(Button, {\n        className: classes.button,\n        onClick: onCancel,\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Cancel\")) : React.createElement(\"div\", {\n        className: classes.post,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        onClick: onRedactClick,\n        variant: \"h5\",\n        component: \"h2\",\n        className: classes.link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, showPost.title), React.createElement(Typography, {\n        className: classes.description,\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, showPost.description)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"#\",\n        className: classes.link,\n        dissable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Comment, {\n        thisPost: showPost,\n        data: this.props.data,\n        watchComment: this.props.watchComment,\n        addComment: this.props.addComment,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }))))));\n    } else if (post.loading) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Load\");\n    } else {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"This post is undefined :(\");\n    }\n  }\n\n}\n\nexport default Post;","map":{"version":3,"sources":["/Users/norikon/ReactSite/v3/react_social_web/src/components/Post/Post.js"],"names":["React","classes","Typography","Card","CardContent","Button","Comment","Link","Redirect","Post","Component","constructor","props","state","id","title","description","visible","visible_form","redact","render","localStorage","getItem","showPost","post","data","number_post","match","params","forEach","item","Number","onRedactClick","setState","onCancel","onEditChange","e","currentTarget","value","onEdit","fetchEdit","card","info","date","created_at","user_id","title_input","description_input","button","link","watchComment","addComment","loading"],"mappings":"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","sourcesContent":["import React from 'react';\nimport classes from './Post.module.css'\nimport { Typography, Card,CardContent, Button } from '@material-ui/core';\nimport Comment from './Comment/Comment';\nimport {Link} from 'react-router-dom'\nimport { Redirect } from 'react-router-dom'\n\nclass Post extends React.Component {\n  constructor(props) {\n    super(props);\n  \n    this.state = {\n      id: null,\n      title: '',\n      description: '',\n      visible: false,\n      visible_form: false,\n      redact: false,\n    }\n  }\n\n  render() {\n    if (!localStorage.getItem('Uid')) {\n      return <div><Redirect to={'/login'} /></div> \n    } \n    let showPost\n    const post = this.props.data.post\n    const number_post = this.props.match.params.post\n\n    if (post[0]) {\n      post.forEach(item => {\n        if (item.id == Number(number_post)) {\n          showPost = item\n        }\n      });\n    }\n    \n\n    const onRedactClick = () => {\n      this.setState({ id: showPost.id, title: showPost.title, \n        description: showPost.description, \n        redact: true })\n    }\n\n    const onCancel = () => {\n      this.setState({ redact: false })\n    }\n\n    const onEditChange = (e) => {\n      const { id } = e.currentTarget\n      this.setState({ [id]: e.currentTarget.value })\n    }\n\n    const onEdit = () => {\n      this.props.fetchEdit({ id:this.state.id, title: this.state.title, description: this.state.description})\n      this.setState({ redact: false })\n    }\n\n    if (showPost) {\n      return (\n          <Card className={classes.card}>\n            <div className={classes.info} >\n              <p className={classes.date} >\n                Created at:{' ' + showPost.created_at}\n              </p>\n              <p className={classes.user_id}>\n                User ID:{' ' + showPost.user_id}\n              </p>\n            </div>\n              <CardContent>\n                {\n                  this.state.redact ? \n                    <div className={classes.post}>\n                      <input id='title' className={classes.title_input} onChange={onEditChange} defaultValue={this.state.title} /><br/>\n                      <textarea className={classes.description_input}\n                      id='description' onChange={onEditChange} defaultValue={this.state.description}/><br/>\n                      <Button className={classes.button} onClick={onEdit} variant=\"contained\" color=\"primary\">\n                        Edit\n                      </Button>{' '}\n                      <Button className={classes.button} onClick={onCancel} variant=\"contained\" color=\"primary\">\n                        Cancel\n                      </Button> \n                    </div> \n                  : \n                    <div className={classes.post}>\n                      <Typography onClick={onRedactClick} variant=\"h5\" component=\"h2\" className={classes.link} >\n                        {showPost.title}\n                      </Typography>\n                      <Typography className={classes.description} variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                        {showPost.description}\n                      </Typography></div>\n                }\n              <div>\n                <div>\n                <Link to=\"#\" className={classes.link} dissable>\n                  <Comment thisPost={showPost}\n                           data={this.props.data} \n                           watchComment={this.props.watchComment}\n                           addComment={this.props.addComment} />\n                </Link>\n                </div>\n              </div>\n              </CardContent>\n          </Card>\n      )\n    } else if(post.loading) {\n      return (\n        <p>Load</p>\n      )\n    } else {\n      return (\n        <p>This post is undefined :(</p>\n      )  \n    }\n  }\n}\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}