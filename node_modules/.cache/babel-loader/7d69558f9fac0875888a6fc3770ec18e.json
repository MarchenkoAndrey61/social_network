{"ast":null,"code":"var _jsxFileName = \"/Users/norikon/ReactSite/v3/react_social_web/src/components/Registration/Registration.js\";\nimport React from 'react';\nimport sing from './Registration.module.css';\nimport { TextField, Button } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom';\n\nclass Registration extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      password: '',\n      passwrod_confirmation: '',\n      firs_name: '',\n      last_name: '',\n      redirect: false\n    };\n\n    this.onInputChange = e => {\n      const name = e.currentTarget.name;\n      this.setState({\n        [name]: e.currentTarget.value\n      });\n    };\n\n    this.onBtnClick = () => {\n      fetch('https://postify-api.herokuapp.com/auth', {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json()).then(res => {\n        if (res.status == 'success') {\n          fetch('https://postify-api.herokuapp.com/auth/sign_in', {\n            method: 'POST',\n            body: JSON.stringify(this.state),\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(response => {\n            localStorage.setItem('Access-Token', response.headers.get('Access-Token'));\n            localStorage.setItem('Client', response.headers.get('Client'));\n            localStorage.setItem('Uid', response.headers.get('Uid'));\n            window.location.reload();\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    const redirect = this.state.redirect;\n\n    if (redirect || localStorage.getItem('Uid')) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Redirect, {\n        to: '/main',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"form\", {\n      className: sing.root,\n      noValidate: true,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: sing.forma,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"standard-basic\",\n      label: \"E-mail\",\n      type: \"text\",\n      name: \"email\",\n      onChange: this.onInputChange,\n      maxlength: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"standard-basic\",\n      label: \"Password\",\n      type: \"password\",\n      name: \"password\",\n      autoComplete: \"current-password\",\n      onChange: this.onInputChange,\n      maxlength: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"standard-basic\",\n      label: \"Password confirmation\",\n      type: \"password\",\n      name: \"passwrod_confirmation\",\n      onChange: this.onInputChange,\n      maxlength: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"standard-basic\",\n      label: \"First Name\",\n      type: \"text\",\n      name: \"firs_name\",\n      onChange: this.onInputChange,\n      maxlength: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"standard-basic\",\n      label: \"Last Name\",\n      type: \"text\",\n      name: \"last_name\",\n      onChange: this.onInputChange,\n      maxlength: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: sing.btn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.onBtnClick,\n      variant: \"contained\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Enter\"))));\n  }\n\n}\n\nexport default Registration;\nconst f = {\n  \"email\": \"example@mail.com\",\n  \"password\": \"11111111\"\n}; //   const r = {\n//      \"email\": \"example@mail.com\", \n//      \"password\": \"11111111\", \n//      \"passwrod_confirmation\": \"11111111\", \n//      \"first_name\": \"\", \n//      \"last_name\": \"\"\n//   }\n// fetch('https://postify-api.herokuapp.com/auth', {\n//     method: 'POST',\n//     body: JSON.stringify(r),\n//     headers: {\n//         'Content-Type': 'application/json'\n//     }\n// })\n// fetch('https://postify-api.herokuapp.com/auth/sign_in', {\n//     method: 'POST',\n//     body: JSON.stringify(f),\n//     headers: {\n//         'Content-Type': 'application/json'\n//     }\n// })","map":{"version":3,"sources":["/Users/norikon/ReactSite/v3/react_social_web/src/components/Registration/Registration.js"],"names":["React","sing","TextField","Button","Redirect","Registration","Component","state","email","password","passwrod_confirmation","firs_name","last_name","redirect","onInputChange","e","name","currentTarget","setState","value","onBtnClick","fetch","method","body","JSON","stringify","headers","then","res","json","status","response","localStorage","setItem","get","window","location","reload","render","getItem","root","forma","btn","f"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sing  from './Registration.module.css'\nimport { TextField, Button } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom'\n\n\nclass Registration extends React.Component {\n  state = { \n    email: '',\n    password: '',\n    passwrod_confirmation: '',\n    firs_name: '',\n    last_name: '',\n    redirect: false\n  }\n\n  onInputChange = (e) => {\n    const { name } = e.currentTarget\n    this.setState({ [name]: e.currentTarget.value })\n  }\n\n  onBtnClick = () => {  \n    fetch('https://postify-api.herokuapp.com/auth', {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    })\n    .then(res => res.json())\n    .then(res => {\n      if (res.status == 'success'){\n        fetch('https://postify-api.herokuapp.com/auth/sign_in', {\n          method: 'POST',\n          body: JSON.stringify(this.state),\n          headers: {\n          'Content-Type': 'application/json'\n          }\n        })\n        .then(response => {\n          localStorage.setItem( 'Access-Token', response.headers.get('Access-Token'));\n          localStorage.setItem('Client', response.headers.get('Client'));\n          localStorage.setItem('Uid', response.headers.get('Uid'));\n          window.location.reload();\n        })\n      }\n    })\n  }\n\n  render () {\n    const redirect = this.state.redirect\n    if (redirect || localStorage.getItem('Uid')) {\n      return <div><Redirect to={'/main'} /></div> \n    }\n    return (\n      <form className={sing.root} noValidate autoComplete=\"off\">\n            <div className = {sing.forma}>\n\n              <TextField id=\"standard-basic\"\n                        label = \"E-mail\"\n                         type = \"text\" \n                         name = \"email\"\n                         onChange={this.onInputChange}\n                        \n                    maxlength = \"15\"\n              />\n              <TextField id=\"standard-basic\"\n                         label=\"Password\"\n                         type = \"password\" \n                         name = \"password\"\n                     \n                     autoComplete = \"current-password\"\n                     onChange = {this.onInputChange}\n                    maxlength = \"15\"\n              />\n              <TextField id=\"standard-basic\"\n                         label=\"Password confirmation\"\n                         type = \"password\" \n                         name='passwrod_confirmation'\n                         onChange={this.onInputChange}\n                        \n                    maxlength = \"15\"\n              />\n              <TextField id=\"standard-basic\"\n                         label=\"First Name\"\n                         type = \"text\" \n                         name = \"firs_name\"\n                         onChange={this.onInputChange}\n                         maxlength = \"15\"\n              />\n              <TextField id=\"standard-basic\"\n                         label=\"Last Name\"\n                         type = \"text\" \n                         name = \"last_name\"\n                         onChange={this.onInputChange} \n                        \n                    maxlength = \"15\"\n              />\n            <div className = {sing.btn}> \n                <Button onClick={this.onBtnClick} variant=\"contained\" >Enter</Button>\n              </div>\n            </div>\n          </form>\n    );\n  }\n}\n\nexport default Registration;\n\n\n\nconst f = {\n  \"email\": \"example@mail.com\", \n  \"password\": \"11111111\" \n}\n//   const r = {\n//      \"email\": \"example@mail.com\", \n//      \"password\": \"11111111\", \n//      \"passwrod_confirmation\": \"11111111\", \n//      \"first_name\": \"\", \n//      \"last_name\": \"\"\n//   }\n// fetch('https://postify-api.herokuapp.com/auth', {\n//     method: 'POST',\n//     body: JSON.stringify(r),\n//     headers: {\n//         'Content-Type': 'application/json'\n//     }\n// })\n\n  // fetch('https://postify-api.herokuapp.com/auth/sign_in', {\n  //     method: 'POST',\n  //     body: JSON.stringify(f),\n  //     headers: {\n  //         'Content-Type': 'application/json'\n  //     }\n  // })"]},"metadata":{},"sourceType":"module"}