{"ast":null,"code":"var _jsxFileName = \"/Users/norikon/ReactSite/v3/react_social_web/src/components/Registration/Registration.js\";\nimport React from 'react';\nimport classes from './Registration.module.css';\nimport { TextField, Button } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom';\n\nclass Registration extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      password: '',\n      passwrod_confirmation: '',\n      firs_name: '',\n      last_name: '',\n      redirect: false\n    };\n\n    this.onInputChange = e => {\n      const name = e.currentTarget.name;\n      this.setState({\n        [name]: e.currentTarget.value\n      });\n    };\n\n    this.onBtnClick = () => {\n      fetch('https://postify-api.herokuapp.com/auth', {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json()).then(res => {\n        if (res.status == 'success') {\n          fetch('https://postify-api.herokuapp.com/auth/sign_in', {\n            method: 'POST',\n            body: JSON.stringify(this.state),\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(response => {\n            localStorage.setItem('Access-Token', response.headers.get('Access-Token'));\n            localStorage.setItem('Client', response.headers.get('Client'));\n            localStorage.setItem('Uid', response.headers.get('Uid'));\n            window.location.reload();\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    const redirect = this.state.redirect;\n\n    if (redirect || localStorage.getItem('Uid')) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Redirect, {\n        to: '/main',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"form\", {\n      className: classes.root,\n      noValidate: true,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      name: \"email\",\n      className: classes.input,\n      required: true,\n      id: \"standard-required\",\n      label: \"Email\",\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      name: \"password\",\n      className: classes.input,\n      id: \"standard-password-input\",\n      label: \"Password\",\n      type: \"password\",\n      autoComplete: \"current-password\",\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      name: \"passwrod_confirmation\",\n      className: classes.input,\n      id: \"standard-password-input\",\n      label: \"Password confirmation\",\n      type: \"password\",\n      autoComplete: \"current-password\",\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      name: \"firs_name\",\n      className: classes.input,\n      id: \"standard-search\",\n      label: \"First name\",\n      type: \"search\",\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      name: \"last_name\",\n      className: classes.input,\n      id: \"standard-search\",\n      label: \"Last name\",\n      type: \"search\",\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: this.onBtnClick,\n      variant: \"contained\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Sign up\")));\n  }\n\n}\n\nexport default Registration;\nconst f = {\n  \"email\": \"example@mail.com\",\n  \"password\": \"11111111\"\n}; //   const r = {\n//      \"email\": \"example@mail.com\", \n//      \"password\": \"11111111\", \n//      \"passwrod_confirmation\": \"11111111\", \n//      \"first_name\": \"\", \n//      \"last_name\": \"\"\n//   }\n// fetch('https://postify-api.herokuapp.com/auth', {\n//     method: 'POST',\n//     body: JSON.stringify(r),\n//     headers: {\n//         'Content-Type': 'application/json'\n//     }\n// })\n// fetch('https://postify-api.herokuapp.com/auth/sign_in', {\n//     method: 'POST',\n//     body: JSON.stringify(f),\n//     headers: {\n//         'Content-Type': 'application/json'\n//     }\n// })","map":{"version":3,"sources":["/Users/norikon/ReactSite/v3/react_social_web/src/components/Registration/Registration.js"],"names":["React","classes","TextField","Button","Redirect","Registration","Component","state","email","password","passwrod_confirmation","firs_name","last_name","redirect","onInputChange","e","name","currentTarget","setState","value","onBtnClick","fetch","method","body","JSON","stringify","headers","then","res","json","status","response","localStorage","setItem","get","window","location","reload","render","getItem","root","input","f"],"mappings":"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","sourcesContent":["import React from 'react';\nimport classes from './Registration.module.css'\nimport { TextField, Button } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom'\n\n\nclass Registration extends React.Component {\n  state = { \n    email: '',\n    password: '',\n    passwrod_confirmation: '',\n    firs_name: '',\n    last_name: '',\n    redirect: false\n  }\n\n  onInputChange = (e) => {\n    const { name } = e.currentTarget\n    this.setState({ [name]: e.currentTarget.value })\n  }\n\n  onBtnClick = () => {  \n    fetch('https://postify-api.herokuapp.com/auth', {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    })\n    .then(res => res.json())\n    .then(res => {\n      if (res.status == 'success'){\n        fetch('https://postify-api.herokuapp.com/auth/sign_in', {\n          method: 'POST',\n          body: JSON.stringify(this.state),\n          headers: {\n          'Content-Type': 'application/json'\n          }\n        })\n        .then(response => {\n          localStorage.setItem( 'Access-Token', response.headers.get('Access-Token'));\n          localStorage.setItem('Client', response.headers.get('Client'));\n          localStorage.setItem('Uid', response.headers.get('Uid'));\n          window.location.reload();\n        })\n      }\n    })\n  }\n\n  render () {\n    const redirect = this.state.redirect\n    if (redirect || localStorage.getItem('Uid')) {\n      return <div><Redirect to={'/main'} /></div> \n    }\n    return (\n      <form className={classes.root} noValidate autoComplete=\"off\">\n        <div>\n          <TextField \n            name='email'\n            className={classes.input} \n            required \n            id=\"standard-required\" \n            label=\"Email\"\n            onChange={this.onInputChange}\n          /><br/>\n          <TextField\n            name='password'\n            className={classes.input}\n            id=\"standard-password-input\"\n            label=\"Password\"\n            type=\"password\"\n            autoComplete=\"current-password\"\n            onChange={this.onInputChange}\n          />  \n          <TextField\n            name='passwrod_confirmation'\n            className={classes.input}\n            id=\"standard-password-input\"\n            label=\"Password confirmation\"\n            type=\"password\"\n            autoComplete=\"current-password\"\n            onChange={this.onInputChange}\n          /> \n          <TextField \n            name='firs_name'\n            className={classes.input}\n            id=\"standard-search\" \n            label=\"First name\" \n            type=\"search\"\n            onChange={this.onInputChange} \n          />\n          <TextField \n            name='last_name'\n            className={classes.input}\n            id=\"standard-search\" \n            label=\"Last name\" \n            type=\"search\"\n            onChange={this.onInputChange} \n          /><br/>\n          <Button onClick={this.onBtnClick} variant=\"contained\" color=\"primary\">\n            Sign up\n          </Button>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default Registration;\n\n\n\nconst f = {\n  \"email\": \"example@mail.com\", \n  \"password\": \"11111111\" \n}\n//   const r = {\n//      \"email\": \"example@mail.com\", \n//      \"password\": \"11111111\", \n//      \"passwrod_confirmation\": \"11111111\", \n//      \"first_name\": \"\", \n//      \"last_name\": \"\"\n//   }\n// fetch('https://postify-api.herokuapp.com/auth', {\n//     method: 'POST',\n//     body: JSON.stringify(r),\n//     headers: {\n//         'Content-Type': 'application/json'\n//     }\n// })\n\n  // fetch('https://postify-api.herokuapp.com/auth/sign_in', {\n  //     method: 'POST',\n  //     body: JSON.stringify(f),\n  //     headers: {\n  //         'Content-Type': 'application/json'\n  //     }\n  // })"]},"metadata":{},"sourceType":"module"}