{"ast":null,"code":"var _jsxFileName = \"/Users/norikon/ReactSite/v3/react_social_web/src/components/Login/Login.js\";\nimport React from 'react';\nimport classes from './Login.module.css';\nimport { TextField, Button } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom';\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      password: '',\n      redirect: false\n    };\n\n    this.onInputChange = e => {\n      const name = e.currentTarget.name;\n      this.setState({\n        [name]: e.currentTarget.value\n      });\n    };\n\n    this.onBtnClick = () => {\n      fetch('https://postify-api.herokuapp.com/auth/sign_in', {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        localStorage.setItem('Access-Token', response.headers.get('Access-Token'));\n        localStorage.setItem('Client', response.headers.get('Client'));\n        localStorage.setItem('Uid', response.headers.get('Uid'));\n        this.setState({\n          redirect: true\n        });\n        window.location.reload();\n      });\n    };\n  }\n\n  render() {\n    const redirect = this.state.redirect;\n\n    if (redirect || localStorage.getItem('Uid')) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Redirect, {\n        to: '/main',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"form\", {\n      className: classes.root,\n      noValidate: true,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      name: \"email\",\n      className: classes.input,\n      required: true,\n      id: \"standard-required\",\n      label: \"Email\",\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      name: \"password\",\n      className: classes.input,\n      id: \"standard-password-input\",\n      label: \"Password\",\n      type: \"password\",\n      autoComplete: \"current-password\",\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: this.onBtnClick,\n      variant: \"contained\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Sign up\")));\n  }\n\n}\n\nexport default Login;\nconst f = {\n  \"email\": \"example@mail.com\",\n  \"password\": \"11111111\"\n}; //   const r = {\n//      \"email\": \"example@mail.com\", \n//      \"password\": \"11111111\", \n//      \"passwrod_confirmation\": \"11111111\", \n//      \"first_name\": \"\", \n//      \"last_name\": \"\"\n//   }\n// fetch('https://postify-api.herokuapp.com/auth', {\n//     method: 'POST',\n//     body: JSON.stringify(r),\n//     headers: {\n//         'Content-Type': 'application/json'\n//     }\n// })\n// fetch('https://postify-api.herokuapp.com/auth/sign_in', {\n//     method: 'POST',\n//     body: JSON.stringify(f),\n//     headers: {\n//         'Content-Type': 'application/json'\n//     }\n// })","map":{"version":3,"sources":["/Users/norikon/ReactSite/v3/react_social_web/src/components/Login/Login.js"],"names":["React","classes","TextField","Button","Redirect","Login","Component","state","email","password","redirect","onInputChange","e","name","currentTarget","setState","value","onBtnClick","fetch","method","body","JSON","stringify","headers","then","response","localStorage","setItem","get","window","location","reload","render","getItem","root","input","f"],"mappings":"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","sourcesContent":["import React from 'react';\nimport classes from './Login.module.css'\nimport { TextField, Button } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom'\n\n\nclass Login extends React.Component {\n  state = { \n    email: '',\n    password: '',\n    redirect: false,\n  }\n\n  onInputChange = (e) => {\n    const { name } = e.currentTarget\n    this.setState({ [name]: e.currentTarget.value })\n  }\n\n  onBtnClick = () => {  \n    fetch('https://postify-api.herokuapp.com/auth/sign_in', {\n      method: 'POST',\n      body: JSON.stringify(this.state),\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }).then(response => {\n      localStorage.setItem( 'Access-Token', response.headers.get('Access-Token'));\n      localStorage.setItem('Client', response.headers.get('Client'));\n      localStorage.setItem('Uid', response.headers.get('Uid'));\n      this.setState({ redirect: true })\n      window.location.reload();\n    })\n  }\n\n  render () {\n    const { redirect } = this.state\n\n    if (redirect || localStorage.getItem('Uid')) {\n      return <div><Redirect to={'/main'} /></div> \n    } \n    return (\n      <form className={classes.root} noValidate autoComplete=\"off\">\n        <div>\n          <TextField \n            name='email'\n            className={classes.input} \n            required \n            id=\"standard-required\" \n            label=\"Email\"\n            onChange={this.onInputChange}\n          /><br/>\n          <TextField\n            name='password'\n            className={classes.input}\n            id=\"standard-password-input\"\n            label=\"Password\"\n            type=\"password\"\n            autoComplete=\"current-password\"\n            onChange={this.onInputChange}\n          /><br/>\n          <Button onClick={this.onBtnClick} variant=\"contained\" color=\"primary\">\n            Sign up\n          </Button>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default Login;\n\n\n\nconst f = {\n  \"email\": \"example@mail.com\", \n  \"password\": \"11111111\" \n}\n//   const r = {\n//      \"email\": \"example@mail.com\", \n//      \"password\": \"11111111\", \n//      \"passwrod_confirmation\": \"11111111\", \n//      \"first_name\": \"\", \n//      \"last_name\": \"\"\n//   }\n// fetch('https://postify-api.herokuapp.com/auth', {\n//     method: 'POST',\n//     body: JSON.stringify(r),\n//     headers: {\n//         'Content-Type': 'application/json'\n//     }\n// })\n\n  // fetch('https://postify-api.herokuapp.com/auth/sign_in', {\n  //     method: 'POST',\n  //     body: JSON.stringify(f),\n  //     headers: {\n  //         'Content-Type': 'application/json'\n  //     }\n  // })"]},"metadata":{},"sourceType":"module"}